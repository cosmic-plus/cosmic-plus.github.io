{"version":3,"sources":["webpack:///./src/content.js","webpack:///./src/helpers/url-view.js","webpack:///./bundled/about.html","webpack:///./src/footer.js","webpack:///./src/helpers/donate.js","webpack:///./src/helpers/icon.js","webpack:///./src/app.js"],"names":["Gui","require","content","ContentGui","type","items","filter","item","Section","link","startsWith","background","module","exports","urlView","html","iframe","create","append","document","body","domain","window","location","href","split","join","domainRegexp","RegExp","viewRegexp","open","page","src","replace","thunk","iwindow","contentWindow","xdocument","timer","setInterval","idocument","state","readyState","clearInterval","onIframeInteractive","index","links","match","isSameDomain","encodedHref","onclick","event","preventDefault","hash","substr","target","rel","rewriteLinks","show","close","hide","dom","donate","Icon","footer","SideFrame","amount","prompt","isNaN","Number","confirm","url","showDonationFrame","image","name","action","title","Tabs","about","tabs","nav","header","selector","view","main","hashHandler","scrollTop","select","selected","add","listen","tab","onhashchange"],"mappings":"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","file":"app.js","sourcesContent":["\"use strict\"\n/**\n * Content class\n */\n\nconst Gui = require(\"@cosmic-plus/domutils/es5/gui\")\nconst content = require(\"./content.json\").content\n\n/**\n * Class\n */\n\nclass ContentGui extends Gui {\n  constructor (type) {\n    super(`%formatItem:items...`)\n    this.items = content.filter(item => item.type === type) || []\n  }\n\n  formatItem (item) {\n    return new ContentGui.Section(item)\n  }\n}\n\nContentGui.Section = class ContentSection extends Gui {\n  constructor (item) {\n    super(\n      `\n<section class=\"ContentSection\" %style>\n  %toBackground:background\n  <aside>%short_desc</aside>\n  <h2>%name</h2>\n  <p>%description</p>\n  <nav>%toLink:links...</nav>\n</section>\n    `,\n      item\n    )\n  }\n\n  toLink (link) {\n    if (link[1].startsWith(\"#\")) {\n      return new Gui(`<a href=%1 >%0</a>`, link)\n    } else {\n      return new Gui(`<a href=%1 target=\"_blank\" rel=\"noopener\">%0</a>`, link)\n    }\n  }\n\n  toBackground (background) {\n    if (background) {\n      return new Gui(`<img class=\"background\" src=%background>`, { background })\n    }\n  }\n}\n\n/**\n * Export\n */\n\nmodule.exports = ContentGui\n","\"use strict\"\n/**\n * GitHub embedded view\n */\nconst urlView = module.exports\n\nconst html = require(\"@cosmic-plus/domutils/es5/html\")\n\nconst iframe = html.create(\"iframe\", \".urlView\")\nhtml.append(document.body, iframe)\n\nconst domain = window.location.href.split(\"/\", 3).join(\"/\") + \"/\"\nconst domainRegexp = new RegExp(`^${domain}(.*)`)\nconst viewRegexp = new RegExp(`^${domain}#view:`)\n\n/**\n * Main functions\n */\n\nurlView.open = function (page) {\n  iframe.src = domain + page.replace(\"%23\", \"#\")\n  onIframeInteractive(iframe, () => rewriteLinks(iframe))\n  html.show(iframe)\n}\n\nurlView.close = function () {\n  html.hide(iframe)\n  iframe.src = \"about:blank\"\n}\n\n/**\n * Helpers\n */\nfunction onIframeInteractive (iframe, thunk) {\n  const iwindow = iframe.contentWindow\n  const xdocument = iwindow.document\n\n  const timer = setInterval(() => {\n    const idocument = iwindow.document\n    if (xdocument === idocument) return\n    const state = idocument.readyState\n    if (state !== \"interactive\" && state !== \"complete\") return\n\n    thunk()\n    clearInterval(timer)\n  }, 40)\n}\n\nfunction rewriteLinks (iframe) {\n  const idocument = iframe.contentWindow.document\n\n  for (let index in idocument.links) {\n    const link = idocument.links[index]\n    if (!link || !link.href) continue\n\n    // Prevent nested navigation.\n    if (link.href.match(viewRegexp)) {\n      link.href = link.href.replace(\"#view:\", \"\")\n    }\n\n    const isSameDomain = link.href.match(domainRegexp)\n    if (isSameDomain) {\n      // `href` for copying link & navigation in new tab/window, `onclick` for\n      // same-page navigation.\n      const href = isSameDomain[1]\n      const encodedHref = href.replace(\"#\", \"%23\")\n      link.href = `${domain}#view:${encodedHref}`\n      link.onclick = event => {\n        event.preventDefault()\n        location.hash = `#view:${encodedHref}`\n      }\n    } else if (link.href.substr(0, 1) !== \"#\") {\n      link.target = \"_blank\"\n      link.rel = \"noopener\"\n    }\n  }\n}\n","module.exports = \"<section><h2>Mission</h2>\\n\\n  <ul>\\n\\n    <li>Release client-side-only applications that demonstrate the unique\\n      potential of Stellar.</li>\\n\\n    <li>Provide a high-level open-source development kit to build Stellar\\n      applications.</li>\\n\\n    <li>Implement and promote a way to secure users funds by decoupling wallets\\n      from other services (CosmicLink, SEP-0007).</li>\\n\\n    <li>Defend the interests of the community by promoting balanced &\\n      vendor-neutral solutions at the protocol level (CAP, SEP).</li>\\n\\n    <li>Promote free software as a way to globally raise the quality of the\\n      Stellar ecosystem.</li>\\n\\n  </ul>\\n\\n</section>\\n\\n\\n<section><h2>Philosophy</h2>\\n\\n  <p>Cosmic.plus embraces the cooperative mindset of the free software\\n  community. Each Cosmic.plus product gets released in the public domain, under\\n  the MIT license.</p>\\n\\n  <p>In a competitive space such as the Stellar ecosystem, most actors\\n  strive to create an edge against competitors. The drawback is that features\\n  that could benefit the whole space are generally jailed in private code\\n  repositories.</p>\\n\\n  <p>By releasing software, libraries & innovative protocols in the public\\n  domain, Cosmic.plus aims at globally improving Stellar's ecosystem quality.\\n  Instead of coding the same functionalities, again and again, developers are\\n  offered an opportunity to focus on what makes their software unique.</p>\\n\\n</section>\\n\\n<section><h2>Economic Model</h2>\\n\\n  <p>It is always a bit tricky to profitably develop open-source software over\\n  the long-term. So far, Cosmic.plus financed itself thanks to programs such as\\n  the Stellar Build Contest or the Stellar Community Fund</p>\\n\\n  <p>While the research & development budget is not secured yet, a fund\\n  exclusively dedicated to long-term maintenance has been put aside. This\\n  guarantees that, in any scenario, Cosmic.plus existing products will remain\\n  up-to-date for years.</p>\\n\\n  <p>There are ongoing plans to make Cosmic.plus financially independent without\\n  sacrificing its ethic. Realistically, this could take a couple of years to\\n  achieve.</p>\\n\\n</section>\\n\\n<section><h2>Privacy</h2>\\n\\n  <p>Privacy is a right. Cosmic.plus applications and libraries don't use\\n  ads nor trackers and don't collect or publish data about users activity.\\n  However, Cosmic.plus web applications are distributed through GitHub,\\n  Cloudflare and to a lesser extent Azure. Those services may keep logs about\\n  user activity.</p>\\n\\n</section>\\n\"","\"use strict\"\n/**\n * Footer\n */\n\nconst dom = require(\"@cosmic-plus/domutils/es5/dom\")\nconst html = require(\"@cosmic-plus/domutils/es5/html\")\n\nconst donate = require(\"./helpers/donate\")\nconst Icon = require(\"./helpers/icon\")\n\nhtml.append(\n  dom.footer,\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/twitter.svg\"),\n    \"Follow on Twitter\",\n    \"https://twitter.com/cosmic_plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/reddit-alien.svg\"),\n    \"Follow on Reddit\",\n    \"https://reddit.com/r/cosmic_plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/medium-m.svg\"),\n    \"Follow on Medium\",\n    \"https://medium.com/cosmic-plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/telegram-plane.svg\"),\n    \"Chat on Telegram\",\n    \"https://t.me/cosmic_plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/keybase.svg\"),\n    \"Chat on Keybase\",\n    \"https://keybase.io/team/cosmic_plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/brands/github-alt.svg\"),\n    \"Source-code on GitHub\",\n    \"https://git.cosmic.plus\"\n  ),\n  new Icon(\n    require(\"@fortawesome/fontawesome-free/svgs/solid/envelope.svg\"),\n    \"Contact by Email\",\n    \"mailto:mister.ticot@cosmic.plus\"\n  ),\n  new Icon(\n    require(\"@cosmic-plus/assets/svg/donate.svg\"),\n    \"Donate Lumens\",\n    donate\n  )\n)\n","\"use strict\"\n/**\n * Donate Interface\n */\nconst SideFrame = require(\"cosmic-lib/es5/helpers/side-frame\")\n\nfunction donate () {\n  const amount = prompt(`\\\nDonations are put to good use. Thank you!\n\nAmount in Lumens:\\\n`)\n\n  if (isNaN(Number(amount))) confirm(`Not a valid amount: ${amount}`)\n  else if (amount) showDonationFrame(amount)\n}\n\nfunction showDonationFrame (amount) {\n  const base = \"https://cosmic.link/?payment&network=public\"\n  const memo = \"Donation%20to%20Cosmic.plus\"\n  const destination = \"tips*cosmic.plus\"\n  const url = `${base}&memo=${memo}&amount=${amount}&destination=${destination}`\n  new SideFrame(url)\n}\n\nmodule.exports = donate\n","\"use strict\"\n/**\n * Footer Icons\n */\nconst Gui = require(\"@cosmic-plus/domutils/es5/gui\")\n\nclass Icon extends Gui {\n  constructor (image, name, action) {\n    super(`<a -ref=%link class=\"Icon\">%image</a>`)\n\n    this.image = typeof image === \"string\" ? new Gui(image) : image\n    this.link.title = name\n\n    if (typeof action === \"function\") {\n      this.link.onclick = action\n    } else if (typeof action === \"string\") {\n      this.link.href = action\n      if (action.match(/^http/)) {\n        this.link.target = \"_blank\"\n        this.link.rel = \"noopener\"\n      }\n    }\n  }\n}\n\nmodule.exports = Icon\n","\"use strict\"\n/**\n * Cosmic Plus interface\n */\n\nrequire(\"@cosmic-plus/domutils/es5/polyfill\")\n\nconst dom = require(\"@cosmic-plus/domutils/es5/dom\")\nconst html = require(\"@cosmic-plus/domutils/es5/html\")\nconst Tabs = require(\"@cosmic-plus/domutils/es5/tabs\")\nconst Gui = require(\"@cosmic-plus/domutils/es5/gui\")\n\nconst ContentGui = require(\"./content\")\nconst urlView = require(\"./helpers/url-view\")\n\nconst about = new Gui(require(\"../bundled/about.html\"))\nrequire(\"./footer\")\n\n/**\n * Website Tabs\n */\n\nconst tabs = new Tabs({ nav: dom.header, selector: dom.header, view: dom.main })\ntabs.add(\"#applications\", \"Applications\", new ContentGui(\"webapp\"))\ntabs.add(\"#libraries\", \"Libraries\", new ContentGui(\"libjs\"))\ntabs.add(\"#about\", \"About\", about)\ntabs.add(\"#blog\", \"Blog\", () =>\n  location.replace(\"https://medium.com/cosmic-plus\")\n)\n\ntabs.select(null)\ntabs.select(location.hash)\ntabs.listen(\"select\", tab => {\n  if (tab) location.hash = tab\n})\n\n/**\n * Navigation Handler\n */\n\nfunction hashHandler () {\n  dom.main.scrollTop = 0\n\n  if (location.hash.substr(0, 6) === \"#view:\") {\n    tabs.select(null)\n    urlView.open(location.hash.substr(6))\n    html.hide(dom.main)\n  } else if (!tabs.selected) {\n    tabs.select(\"#applications\")\n  } else {\n    urlView.close()\n    html.show(dom.main)\n  }\n}\n\nwindow.onhashchange = hashHandler\nhashHandler()\n"],"sourceRoot":""}